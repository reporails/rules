# Capability Levels Configuration
# Level is determined by features, not score

tracks:
  foundation: [L1, L2, L3, L4]  # Everyone
  governed: [L5]                 # Teams 20+
  adaptive: [L6]                 # Monorepos (implies governed)

# Feature detection (check from L6 down, first match = level)
detection:
  L6:
    features: ["backbone.yml"]
    label: Adaptive
  L5:
    features: ["3+ components", "shared files"]
    label: Governed
  L4:
    features: [".claude/rules/"]
    label: Modular
  L3:
    features: ["@imports", "multiple instruction files"]
    label: Structured
  L2:
    features: ["CLAUDE.md exists"]
    label: Basic
  L1:
    features: []
    label: Absent

levels:
  L1:
    name: Absent/Generated
    required_rules: []

  L2:
    name: Basic
    includes: [L1]
    required_rules: [S1, C1, C2, C4, C7, C8, C9, C10, C12, M5]

  L3:
    name: Structured
    includes: [L2]
    required_rules: [S2, S3, S7, C3, C6, C11, E6, E7, M1, M2]

  L4:
    name: Modular
    includes: [L3]
    required_rules: [S4, S5, E1, E3, E4, E5, E8, M7]

  L5:
    name: Governed
    includes: [L4]
    required_rules: [G1, G2, G3, G4, G8, M3, M4]

  L6:
    name: Adaptive
    includes: [L5]
    required_rules: [S6, C5, E2, G5, G6, G7, M6]

# Scoring uses per-rule weights, not category weights
# See backbone.yml severities for weight definitions
scoring:
  default_rule_weight: 2.5
  formula: "(earned / possible) Ã— 10"
