# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.2.0] - 2026-01-31

Trust Architecture — tier-derived rule classification, schema breaking changes, directory restructuring with co-located tests, and multi-agent support.

### Added
- **Trust Architecture**: Two-tier model (core/experimental) derived from source weights replaces stored confidence. 55 new `backed_by` entries across 17 rules; 2 new community sources (`dometrain-claude-md-guide`, `osmani-ai-coding-workflow`)
- **Rule Structure**: Co-located test files (fail/pass) for all rules; `.semgrepignore` to enable test scanning; `pattern_confidence` field across all 43 rule frontmatters (4 very_high, 14 high, 16 medium, 9 low)
- **Levels**: `levels.yml` canonical level→rule mappings; `levels.schema.yml`; `/manage-levels` skill for sync/diff/list
- **M6 Rule**: Backbone index completeness — ensures filesystem rule directories are registered in `backbone.yml`
- **Codex Agent**: `agents/codex/` with config.yml for OpenAI Codex AGENTS.md files; `codex-agent-loop` source
- **Backbone**: `.claude/rules/` path-scoped reminders; `.shared/knowledge/backbone-resolution.md` central resolution reference
- **Metrics**: `.reporails/trust-metrics.yml` generated by evidence audit

### Changed
- **BREAKING — Rule Schema v5**: Added `pattern_confidence` to `checks[]` items; removed `confidence` field (v4); tiers now derived from `backed_by` source weights
- **BREAKING — Sources Schema v3**: Source types reduced to 3 (`official` 1.0, `research` 0.8, `community` 0.4); tier derivation replaces stored confidence; removed `reporails:` section and `methodology` type
- **BREAKING — Project Schema v3**: `tiers` object replaces `confidence`/`profile` fields
- **BREAKING — Rule IDs**: Sequential renumbering (S6→S4, S7→S5, G2-G8→G1-G7, M6→M5; Claude: CLAUDE_S4→S2, CLAUDE_S5→S3, CLAUDE_M5→M1, CLAUDE_M7→M2). Agent rules use own namespace
- **BREAKING — Directory Structure**: All rules restructured into `{rule-id}/` directories with co-located `{rule-id}.yml` and `tests/`
- **Schema Versions**: Converted from integers to semver strings (`"0.0.X"`) across all 6 schema files
- **Release Tags**: Dropped `v` prefix — tags are now bare semver (e.g., `0.2.0`); workflow trigger updated to `[0-9]*`
- **M1 moved to L1**: Version control is now a Basic requirement; sharpens L2 as content/structure quality
- **Schema field rename**: `schema_version` → `version` in all schema files
- **Skills**: Backbone path resolution replaces hardcoded path tables in 8 skills/workflows
- **Docs**: Capability levels updated for tier model, M6 added to L6

### Fixed
- **Pattern Anchoring**: `pattern-not-regex` rules (C4, C12, E2, E3, E4, E5) now use `(?s)\A#[\s\S]+` instead of `^#` to match file-level content
- **Rule Fixes**: CLAUDE_S3 language target; C3 backreference removal; CLAUDE_S2 detection strategy; CLAUDE_M2 language target; G2 missing source URL; CLAUDE_G1 semantic inversion; G4/S4 YAML language alignment; backbone test file extension templates
- **Tier Comments**: E2, E6, S4 — explicit experimental tier comments on `backed_by: []`

### Removed
- **Cursor scope**: Removed from `docs/sources.yml`

### Metrics
- Rules: 44 (37 core + 6 Claude-specific + 1 Codex)
- Schemas: 6 (rule, agent, project, sources, user, levels) — all semver versioned
- Sources: 23 weighted sources with extracted claims
- Agents: 2 (Claude, Codex)

## [0.1.1] - 2026-01-28

Release automatizations with task hydration templates and streamlined workflows.

### Added
- **Structure**: `.shared/` directory for agent-agnostic workflows and knowledge
- **Structure**: `.claude/tasks/` directory with 7 task templates for release automation
- **Schema**: Trust architecture with weighted sources, confidence levels, and admission criteria
- **Schema**: `confirmed` confidence level requiring both official docs and research validation
- **Skills**: `/extract-claims` skill for source evidence extraction
- **Reporting**: Trust Score with Evidence Coverage breakdown (Official/Research/Methodology)
- **Rules**: Complete rule set - S1-S5, C1-C12, E1-E8, G1-G7, M1-M5
- **Docs**: Capability levels L1-L6 with assessment matrix and progression guide

### Changed
- **Skills**: Refactored to thin entry points (~35-50 lines) linking to shared workflows
- **Skills**: Deleted 11 redundant files (~1,100 lines removed)
- **Structure**: Moved from `.claude/rules/` to `.shared/knowledge/` for agent-agnostic content
- **Rules**: All 43 rules now have confidence field and backed_by source references
- **Rules**: Simplified type system to deterministic/semantic (32 deterministic, 10 semantic)
- **Sources**: Refactored to evidence chain format with 21 weighted sources

### Fixed
- **QA**: 42/43 rules pass validation (M1 deferred - architectural issue)

### Metrics
- Rules: 43 total (42 passing)
- Sources: 21 weighted sources with extracted claims

## [0.0.1] - [2026-01-22](https://github.com/reporails/framework/releases/tag/0.0.1)

